<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Волонтерское движение | Мероприятия</title>
    <meta name="description" content="Информация о предстоящих и прошедших мероприятиях">
    <meta name="keywords" content="мероприятия, акции, события, волонтерство">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <style>
        body {
            background-color: #f4f4f4;
            font-family: 'Open Sans', sans-serif;
            /* Используем нестандартный шрифт */
        }

        /* CSS для календаря */
        .calendar-container {
            width: 100%;
            max-width: 600px;
            margin: 20px auto;
            border: 1px solid #ccc;
            border-radius: 8px;
            overflow: hidden;

        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #f0f0f0;
        }

        .calendar-body {
            padding: 10px;
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            color: #777;
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-gap: 5px;
        }

        .calendar-day {
            padding: 8px;
            text-align: center;
            border: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

            .calendar-day:hover {
                background-color: #e0e0e0;
            }

            .calendar-day.has-event {
                background-color: #d4edda;
            }

                .calendar-day.has-event:hover {
                    background-color: #c3e6cb;
                }

            .calendar-day.empty {
                background-color: #fff;
                border: none;
                cursor: default;
            }

        .selected-event {
            margin-top: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
        }

            .selected-event img {
                width: 200px;
                height: 150px;
                object-fit: cover;
                border-radius: 5px;
                margin-bottom: 10px;
            }
        /*Стиль для кнопки лайка*/
        .like-button {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 8px 16px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
            margin-top: 10px;
        }

            .like-button:hover {
                background-color: #f0f0f0;
            }

            .like-button.liked {
                background-color: #dc3545;
                color: white;
                border-color: #dc3545;
            }

        .like-icon {
            margin-right: 5px;
        }

        /* Стили для анимации логотипа (пульсация) */
        .logo-container {
            width: 100px;
            height: 100px;
            cursor: pointer;
            /* Делаем курсор указателем при наведении */
            overflow: hidden; /* Скрываем выходящие за границы элементы */
        }

        #logo {
            width: 100%;
            height: 100%;
            display: block;
            margin: 0 auto;
            transform-origin: center; /*  Центр анимации */
            animation: pulse 1.5s infinite alternate; /*  Запускаем анимацию */
        }

        @keyframes pulse {
            0% {
                transform: scale(1); /*  Исходный размер */
            }

            100% {
                transform: scale(1.1); /*  Увеличенный размер */
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <div class="logo-container">
                        <img id="logo" src="images/logo.png" alt="Логотип волонтерского движения">
                    </div>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Главная</a></li>
                    <li><a href="home.html">О нас</a></li>
                    <li><a href="page2.html">Мероприятия</a></li>
                    <li><a href="page3.html">Как стать волонтером</a></li>
                    <li><a href="news.html">Новости</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="banner">
        <img src="">
    </section>

    <main>
        <div class="container">
            <h1>Мероприятия</h1>

            <!-- HTML структура для календаря -->
            <div class="calendar-container">
                <div class="calendar-header">
                    <button id="prevMonthBtn">&lt;</button>
                    <h2 id="currentMonthYear"></h2>
                    <button id="nextMonthBtn">&gt;</button>
                </div>
                <div class="calendar-body">
                    <div class="calendar-weekdays">
                        <div>Пн</div>
                        <div>Вт</div>
                        <div>Ср</div>
                        <div>Чт</div>
                        <div>Пт</div>
                        <div>Сб</div>
                        <div>Вс</div>
                    </div>
                    <div class="calendar-days" id="calendarDays"></div>
                </div>
            </div>
            <!-- Блок для выбранного мероприятия -->
            <div id="selectedEventContainer"></div>
            <script>
                const calendarDays = document.getElementById('calendarDays');
                const currentMonthYear = document.getElementById('currentMonthYear');
                const prevMonthBtn = document.getElementById('prevMonthBtn');
                const nextMonthBtn = document.getElementById('nextMonthBtn');
                const selectedEventContainer = document.getElementById('selectedEventContainer');

                let currentDate = new Date();
                let currentMonth = currentDate.getMonth();
                let currentYear = currentDate.getFullYear();

                currentMonth = 5; 
                currentYear = 2025;
                currentDate = new Date(currentYear, currentMonth, 1);

                const events = [{
                    date: '2025-06-15',
                    title: 'Благотворительный концерт',
                    type: 'музыка',
                    description: 'Приглашаем всех на благотворительный концерт в поддержку талантливых детей!',
                    image: 'images/concert.jpg',
                    liked: false
                },
                {
                    date: '2025-06-20',
                    title: 'Уборка парка',
                    type: 'экология',
                    description: 'Присоединяйтесь к уборке парка! Сделаем наш город чище!',
                    image: 'images/park.jpg',
                    liked: false
                },
                {
                    date: '2025-06-05',
                    title: 'Помощь детскому дому',
                    type: 'социальное',
                    description: 'Поможем детям из детского дома! Сбор игрушек и книг.',
                    image: 'images/home.jpg',
                    liked: false
                }
                ];

                function renderCalendar() {
                    const firstDayOfMonth = new Date(currentYear, currentMonth, 1);
                    const lastDayOfMonth = new Date(currentYear, currentMonth + 1, 0);
                    const daysInMonth = lastDayOfMonth.getDate();
                    const firstDayWeekday = firstDayOfMonth.getDay() === 0 ? 6 : firstDayOfMonth.getDay() - 1; // Понедельник - 0

                    currentMonthYear.textContent = new Intl.DateTimeFormat('ru-RU', {
                        month: 'long',
                        year: 'numeric',
                    }).format(currentDate);

                    let dayCells = '';
                    for (let i = 0; i < firstDayWeekday; i++) {
                        dayCells += '<div class="calendar-day empty"></div>';
                    }

                    for (let i = 1; i <= daysInMonth; i++) {
                        const date = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;
                        const event = events.find(e => e.date === date);
                        const hasEventClass = event ? 'has-event' : '';
                        dayCells += `<div class="calendar-day ${hasEventClass}" data-date="${date}">${i}</div>`;
                    }

                    calendarDays.innerHTML = dayCells;

                    // Обработчик клика на день
                    document.querySelectorAll('.calendar-day').forEach(day => {
                        day.addEventListener('click', () => {
                            const selectedDate = day.dataset.date;
                            displaySelectedEvent(selectedDate);
                        });
                    });
                }

                function displaySelectedEvent(date) {
                    const event = events.find(e => e.date === date);

                    if (event) {
                        const likeButtonText = event.liked ? 'Уже нравится' : 'Нравится'; // Меняем текст кнопки

                        // Создаем HTML для блока события
                        const imageHTML = event.image ? `<img src="${event.image}" alt="${event.title}">` : ''; // Если есть изображение, отображаем его, иначе - пустая строка

                        const eventHTML = `
                            <div class="selected-event">
                                ${imageHTML}
                                <h3>${event.title}</h3>
                                <p>Дата: ${date}</p>
                                <p>${event.description}</p>
                                <button class="like-button ${event.liked ? 'liked' : ''}" data-date="${date}">
                                    <span class="like-icon">&#x2665;</span> ${likeButtonText}
                                </button>
                            </div>
                        `;
                        selectedEventContainer.innerHTML = eventHTML;
                        // Назначаем обработчик для кнопки лайка
                        const likeButton = selectedEventContainer.querySelector('.like-button');

                        likeButton.addEventListener('click', (event) => {
                            event.stopPropagation(); // Предотвращаем всплытие события
                            toggleLike(date);
                        });

                    } else {
                        selectedEventContainer.innerHTML = '<p>Нет информации о мероприятии на эту дату.</p>';
                    }
                }
                function toggleLike(date) {
                    const event = events.find(e => e.date === date);

                    if (event) {
                        event.liked = !event.liked; // Переключаем состояние лайка
                        displaySelectedEvent(date); // Перерисовываем блок мероприятия
                    }
                }

                prevMonthBtn.addEventListener('click', () => {
                    currentMonth--;
                    if (currentMonth < 0) {
                        currentMonth = 11;
                        currentYear--;
                    }
                    currentDate = new Date(currentYear, currentMonth, 1);
                    renderCalendar();
                });

                nextMonthBtn.addEventListener('click', () => {
                    currentMonth++;
                    if (currentMonth > 11) {
                        currentMonth = 0;
                        currentYear++;
                    }
                    currentDate = new Date(currentYear, currentMonth, 1);
                    renderCalendar();
                });

                renderCalendar();
            </script>
            <h2>Прошедшие мероприятия</h2>
            <div class="event">
                <img src="images/event2.jpg" alt="Мероприятие 2">
                <h3>Помощь приюту для животных</h3>
                <p>Дата: 1 марта 2025</p>
                <p>Волонтеры посетили приют для животных, оказали помощь в уходе за животными.</p>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Волонтерское движение. Все права защищены.</p>
        </div>
    </footer>
    
</body>

</html>